# Paper to Blog Article Generator

**指定されたPDFの論文**と**会話中に提供された補足情報**を組み合わせ、tarikicode-svelteブログフォーマットに準拠した**日本語解説記事**を生成してください。

## 使い方

```
/paper-to-blog papers/your-paper.pdf
```

引数にPDFのパスを渡してください。補足情報（音声書き起こし・解説メモ・事例など）は会話中にペーストしてください。

---

## 2ソース活用の原則

| ソース | 役割 |
| ------ | ---- |
| **PDF（論文本文）** | 数値・引用・主張の正確さの根拠。ファクトはここを優先する |
| **補足情報（会話中のメモ・書き起こし等）** | わかりやすい例え・ユーモア・現場感のある表現・読者への問いかけ |

補足情報が提供された場合は、PDF由来の正確さを保ちながら、補足情報のトーン・例え・フレーズを積極的に取り入れる。補足情報がない場合はPDFのみで完結させる。

---

## 実行手順

### Step 0: 事前確認

1. **今日の日付を確認**（`date` コマンド）して `YYYY-MM-DD` 形式で記録する
2. **PDFをpdftotext で抽出**（Bash tool）して論文テキストを取得する
3. **補足情報の有無を確認** — 会話中に書き起こし・メモが提供されているか確認する
4. **既存記事と重複チェック** — `src/posts/` 配下の最近の記事を確認する

```text
今日の日付: 2026-01-01
PDFパス: papers/attention.pdf
補足情報: あり / なし
```

---

### Step 1: 論文情報の抽出

PDFから以下を抽出する：

| 項目                 | 抽出方法                                      |
| -------------------- | --------------------------------------------- |
| タイトル             | 表紙・ヘッダー                                |
| 著者名               | 表紙                                          |
| 発表会議・ジャーナル | 表紙・フッター                                |
| 発表年               | 表紙・ヘッダー                                |
| arXiv ID / DOI       | 表紙・リンク                                  |
| Abstract（要旨）     | Abstract セクション                           |
| 提案手法の核心       | Introduction・Method セクション               |
| 主要な実験結果       | Experiments・Results セクション（数値を含む） |
| 比較ベースライン     | Tables・Experiments セクション                |
| 限界・Future Work    | Conclusion・Limitations セクション            |

---

### Step 2: 原文URLの取得

arXiv ID または DOI が判明している場合、WebSearchで以下を確認する：

- arXiv URL: `https://arxiv.org/abs/{arXiv_ID}`
- DOI URL: `https://doi.org/{DOI}`
- 論文プロジェクトページ（GitHub / paper site）

---

### Step 3: 記事構成の決定

論文のタイプに応じて構成を調整する：

- **新手法提案型**: 背景→課題→提案手法→実験結果→比較表→限界→まとめ
- **サーベイ・調査型**: 対象領域→分類整理→各手法の特徴→比較→トレンドと示唆
- **応用・システム型**: 課題設定→システム設計→デモ/事例→性能→まとめ

---

### Step 4: 記事作成

tarikicode-svelteブログフォーマットに準拠した frontmatter と本文を作成する。

#### Frontmatter ルール

```yaml
---
title: 'Research Insight | [論文タイトル和訳]：[インパクトを端的に表す副題]'
date: 'YYYY-MM-DD' # Step 0で確認した今日の日付
category: '論文解説'
tags: ['Research Insight', 'タグ1', 'タグ2', 'タグ3'] # 先頭はシリーズ名固定、残り2〜4個は論文の技術キーワード
description: '100〜160文字の日本語要約。何を提案し、何を達成したかを具体的に。'
image: 'https://arxiv.org/abs/{arXiv_ID}' # 原文URL（OGP画像自動取得）
featured: false
type: 'blog'
---
```

#### 本文構成

```markdown
### [論文タイトル]：[インパクトを一言で]

[2〜3文のリード文。読者への問いかけから入ると効果的。]

---

#### どんな研究か（背景と課題）

[既存手法の何が問題だったか、この研究はどんな問いに答えるか]
[補足情報に日常的な例えがあれば積極的に使う]

#### 提案手法：[手法名]

[提案手法のアイデアと仕組みをわかりやすく。専門用語には簡単な説明を付ける]

#### 主要な実験結果

[数値を含む比較表を必ず入れる]

| ベンチマーク | 提案手法 | ベースライン1 | ベースライン2 |
| ------------ | -------- | ------------- | ------------- |
| ...          | ...      | ...           | ...           |

[結果の解釈・何が示されたか]

#### 限界と今後の課題

- [限界1]
- [限界2]

#### まとめ

- **[ポイント1]**：...
- **[ポイント2]**：...
- **[ポイント3]**：...

[締めの一文。読者に行動・問いを促す形が望ましい]

---

**情報ソース：**

[[ogp:https://arxiv.org/abs/{arXiv_ID}]]
```

#### 文体・品質ガイドライン

- 全文日本語
- **補足情報がある場合**：そのトーン・例え・キャッチーなフレーズを本文に織り込む。正確さはPDFで担保し、読みやすさは補足情報で補う
- 技術者でなくても理解できる平易な表現を優先しつつ、専門性は落とさない
- 比較表は必ず含める（論文に記載がある場合）
- 抽象的な説明より「具体的な数値」を優先
- 見出し構造：h3（タイトル）→ h4（各セクション）→ h5（サブセクション）

---

### Step 5: Quality Check

- [ ] Frontmatter完備（title / date / category / tags / description / image / featured / type）
- [ ] 日付はStep 0で確認した今日の日付
- [ ] description: 100〜160文字
- [ ] tags: 先頭に `'Research Insight'` 固定、合計3〜5個
- [ ] 比較表あり
- [ ] 具体的な数値・ベンチマーク結果あり
- [ ] 限界・今後の課題セクションあり
- [ ] 情報ソースは `[[ogp:URL]]` 形式
- [ ] ファイル名: `YYYY-MM-DD-slug.md`（slug は論文の内容を表す英語）
- [ ] 補足情報の例え・フレーズが本文に反映されているか（補足情報がある場合）

---

### Step 6: 保存

```
src/posts/YYYY-MM-DD-{slug}.md
```

---

### Step 7: 処理済みPDFの退避

記事保存後、PDFを `papers/done/` ディレクトリに移動する：

```bash
mv papers/{filename}.pdf papers/done/{filename}.pdf
```

---

## 完了後レポート

```text
✅ 論文タイトル: [原題]
✅ 著者: [著者名]
✅ 発表: [会議/ジャーナル名] [年]
✅ 原文URL: [arXiv or DOI]
✅ 記事タイトル: [生成した日本語タイトル]
✅ ファイル名: src/posts/YYYY-MM-DD-slug.md
✅ 補足情報: あり / なし
✅ PDFの退避先: papers/done/{filename}.pdf
✅ ハイライト:
   - [主要ポイント1]
   - [主要ポイント2]
   - [主要ポイント3]
```
